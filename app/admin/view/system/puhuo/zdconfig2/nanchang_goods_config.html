<form id="app-form_nanchang_goods_config" class="layui-form layuimini-form">
    <table class="layui-table">
    
        <table id="form-nanchang_goods-config" class="layui-table">
            <thead>
                <tr>
                    <th style="width: 90px;">货号</th>
                    <th style="width: 90px;">店铺</th>
                    <th style="width: 90px;">铺货方案</th>
                    <th style="width: 80px;">剩余门店</th>
                    <th style="width: 80px;">铺货方案</th>
                    <th style="width: 60px;">是否套装套西</th>
                    <th style="width: 60px;">是否指定门店</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="7">
                        <!-- <span>添加操作</span> -->
                    </td>
                    <td colspan="1">
                        <button type="button" class="layui-btn layui-btn-sm  add_nanchang_goods_config" style="margin-bottom: 5px">增加</button>
                        <button type="button" class="layui-btn layui-btn-sm add_nanchang_goods_config_all" style="margin-bottom: 5px">一键保存全部</button>
                        <button type="button" class="layui-btn layui-btn-sm layui-btn-danger del_nanchang_goods_config_all" style="margin-bottom: 5px">一键删除全部</button>
                    </td>
                </tr>

                {foreach $nanchang_goods_config as $vo}
                <tr class="nanchang_goods_config-select" lay-data="{:htmlspecialchars(json_encode($vo['Commonfield_select']))}">
                    <td class="nanchang_goods">
                        <input type="text" style="width:438px;" name="GoodsNo[]" lay-verify="required" placeholder="请输入,多个货号用空格 隔开，如：B52109006 B52106011 B51501023" value="{$vo['GoodsNo']}" class="layui-input">
                    </td>

                    <td class="Commonfield">
                        <input type="text" style="width:438px;" name="Commonfield[]" lay-verify="required" placeholder="请输入,多个店铺名用空格 隔开，如：万年一店 万年二店 上饶一店" value="{$vo['Commonfield']}" class="layui-input">
                    </td>
                    
                    <td class="rule_type">
                        <select name="rule_type[]">
                            {foreach $rule_type as $vo_key=>$vo_rule}
                            <option value="{$vo_key}" {if ($vo['rule_type']==$vo_key)}selected{/if}>{$vo_rule}</option>
                            {/foreach}
                        </select>
                    </td>

                    <td class="remain_store">
                        <select name="remain_store[]">
                            <option value="2" {if ($vo['remain_store']==2)}selected{/if}>不铺</option>
                            <option value="1" {if ($vo['remain_store']==1)}selected{/if}>铺</option>
                        </select>
                    </td>

                    <td class="remain_rule_type">
                        <select name="remain_rule_type[]">
                            <option value="0">请选择</option>
                            {foreach $rule_type as $vo_key=>$vo_rule}
                            <option value="{$vo_key}" {if ($vo['remain_rule_type']==$vo_key)}selected{/if}>{$vo_rule}</option>
                            {/foreach}
                        </select>
                    </td>

                    <td class="if_taozhuang">
                        <select name="if_taozhuang[]">
                            <option value="2" {if ($vo['if_taozhuang']==2)}selected{/if}>否</option>
                            <option value="1" {if ($vo['if_taozhuang']==1)}selected{/if}>是</option>
                        </select>
                    </td>

                    <td class="if_zdmd">
                        <select name="if_zdmd[]">
                            <option value="1" {if ($vo['if_zdmd']==1)}selected{/if}>是</option>
                            <option value="2" {if ($vo['if_zdmd']==2)}selected{/if}>否</option>
                        </select>
                    </td>
                    <td class="handler">
                        <input type="text" name="id[]" class="layui-hide" value="{$vo.id}">
                        <input type="text" name="Selecttype[]" class="layui-hide" value="2">
                        <input type="text" name="Yuncang[]" class="layui-hide" value="南昌云仓">
                        <button type="button" class="layui-btn layui-btn-normal get_nanchang_goods_config" id="save_button">保存</button>
                        <button type="button" class="layui-btn layui-btn-danger del_nanchang_goods_config">删除</button>
                        <!-- <button type="button" class="layui-btn layui-btn-danger del">删除</button> -->
                    </td>
                </tr>
                {/foreach}
                
            </tbody>
        </table>
    </table>
    </form>
    <input type="text" id="nanchang_goods_config" class="layui-hide" value="{:htmlspecialchars(json_encode($nanchang_goods_config))}">
    <input type="text" id="rule_type_hidden" class="layui-hide" value="{:htmlspecialchars(json_encode($rule_type))}">
    <input type="text" id="Selecttype_hidden" class="layui-hide" value="{:htmlspecialchars(json_encode($Selecttype))}">
    <input type="text" id="nanchang_select_list_hidden" class="layui-hide" value="{:htmlspecialchars(json_encode($nanchang_select_list))}">
    